@startuml

skinparam shadowing false

package DBConnection{
class DAO << (J,red) >>
class DBConnector << (J,red) >>
}
package Data{
class CupCake << (E,lightblue) >>
class CupCakePiece << (E,lightblue) >>
class Order << (E,lightblue) >>
class Orderline << (E,lightblue) >>
class User << (E,lightblue) >>
}

CupCake : - CupCakePiece bottom
CupCake : - CupCakePiece topping
CupCake : - double price
CupCake : - int amount
CupCake : + CupCake(CupCakePiece bottom, CupCakePiece topping, int amount)
CupCake : + CupCakePiece getBottom()
CupCake : + CupCakePiece getTopping()
CupCake : + double getPrice()
CupCake : + int getAmount()
CupCake : + int hashCode()
CupCake : + boolean equals()
CupCake : + void addAmount(int amount)
CupCake : + void setAmount(int amount)
CupCake : + String toString()
CupCakePiece : - int id
CupCakePiece : - String flavor
CupCakePiece : - double price
CupCakePiece : + CupCakePiece(int id, String flavor, double price)
CupCakePiece : + int getId()
CupCakePiece : + String getFlavor()
CupCakePiece : + double getPrice()
CupCakePiece : + String toString()
CupCakePiece : + int hashCode()
CupCakePiece : + boolean equals()
Order : - int id
Order : - ArrayList<Orderline> orderlines
Order : - double totalPrice
Order : - String dateTime
Order : + Order(int id, ArrayList<Orderline> orderlines, double totalPrice, String dateTime)
Order : - void setPrice()
Order : + int getId()
Order : + ArrayList<Orderlines> getOrderlines()
Order : + double getTotalPrice()
Order : + String getDateTime()
Orderline : - int userId
Orderline : - int orderId
Orderline : - int orderLineId
Orderline : - CupCake cupCake
Orderline : + OrderLine(int userId, int orderId, int orderlineId, CupCakePiece topping, CupCakePiece bottom, double price, int amount)
Orderline : + int getUserId()
Orderline : + int getOrderId()
Orderline : + int getOrderlineId()
Orderline : + CupCake getCupCake()
Orderline : + String toString()
Orderline : + int hashCode()
Orderline : + boolean equals()
User : - int id
User : - String username
User : - String password
User : - double balance
User : - String role
User : + User(int id, String username, String password, double balance, String role)
User : + String toString()
User : + int getId()
User : + String getUsername()
User : + String getPassword()
User : + double getBalance()
User : + String getRole()'
DAO : - DBConnector conn
DAO : + User getUser(String u)
DAO : + User getUser(int id)
DAO : + ArrayList<User> getUsers()
DAO : + boolean createCustomer(String username, String password1, String password2)
DAO : + boolean createAdmin(String username, String password1, String password2)
DAO : + ArrayList<CupCakePiece> getToppings()
DAO : + ArrayList<CupCakePiece> getBottoms()
DAO : + CupCakePiece getTopping(int id)
DAO : + CupCakePiece getBottom(int id)
DAO : + User login(String username, String password)
DAO : + Order getOrder(int id)
DAO : + ArrayList<Order> getUsersOrders(int id)
DAO : + ArrayList<Order> getAllOrders(int id)
DAO : + int insertOrder(ArrayList<CupCake> cart, User user)
DAO : + boolean addTopping(String flavor, double price)
DAO : + boolean addBottom(String flavor, double price)
DAO : + boolean changeOrderlineAmount(int id, int amount)
DAO : + String getUserById(int id)
DAO : + double deposit(int id, double value)
DAO : + boolean withdrawal(int id, double value)
DAO : + void updateOrderLine(int orderlineId, int amount)
DBConnector : - Connection conn
DBConnector : - String IP
DBConnector : - int PORT
DBConnector : + String DATABASE
DBConnector : - String USERNAME
DBConnector : - String PASSWORD
DBConnector : + DBConnector()
DBConnector : + Connection getConnection()

CupCake "1" -- "2" CupCakePiece
Order "1" -- "*" Orderline
Orderline "1" -- "1" CupCake
User "1" -- "*" Order
User "1" -- "*" Orderline
DAO --> DBConnector

@enduml
