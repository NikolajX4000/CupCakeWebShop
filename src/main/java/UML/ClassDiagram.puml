@startuml

package DBConnection{
class DAO << (J,red) >>
class DBConnector << (J,red) >>
}
package Data{
class CupCake << (E,lightblue) >>
class CupCakePiece << (E,lightblue) >>
class Order << (E,lightblue) >>
class Orderline << (E,lightblue) >>
class User << (E,lightblue) >>
}
package Servlets{
class adminOrderPage << (S,orchid) >>
class createPiece << (S,orchid) >>
class shopPage << (S,orchid) >>
class updateInvoice << (S,orchid) >>
class usersPage << (S,orchid) >>
class welcomePage << (S,orchid) >>
}

adminOrderPage : # void proccessRequest(HttpServletRequest request, HttpServletResponse response)
adminOrderPage : # void doGet(HttpServletRequest request, HttpServletResponse response)
adminOrderPage : # void doPost(HttpServletRequest request, HttpServletResponse response)
adminOrderPage : + String getServletInfo()
createPiece : # void proccessRequest(HttpServletRequest request, HttpServletResponse response)
createPiece : # void doGet(HttpServletRequest request, HttpServletResponse response)
createPiece : # void doPost(HttpServletRequest request, HttpServletResponse response)
createPiece : + String getServletInfo()
shopPage : # void proccessRequest(HttpServletRequest request, HttpServletResponse response)
shopPage : - void addToOrder(HttpServletRequest request)
shopPage : - void updateCart(HttpServletRequest request)
shopPage : - void checkOut(HttpServletResponse response)
shopPage : - void totalPrice()
shopPage : # void doGet(HttpServletRequest request, HttpServletResponse response)
shopPage : # void doPost(HttpServletRequest request, HttpServletResponse response)
shopPage : + String getServletInfo()
updateInvoice : # void proccessRequest(HttpServletRequest request, HttpServletResponse response)
updateInvoice : # void doGet(HttpServletRequest request, HttpServletResponse response)
updateInvoice : # void doPost(HttpServletRequest request, HttpServletResponse response)
updateInvoice : + String getServletInfo()
usersPage : # void proccessRequest(HttpServletRequest request, HttpServletResponse response)
usersPage : # void doGet(HttpServletRequest request, HttpServletResponse response)
usersPage : # void doPost(HttpServletRequest request, HttpServletResponse response)
usersPage : + String getServletInfo()
welcomePage : # void proccessRequest(HttpServletRequest request, HttpServletResponse response)
welcomePage : # void doGet(HttpServletRequest request, HttpServletResponse response)
welcomePage : # void doPost(HttpServletRequest request, HttpServletResponse response)
welcomePage : + String getServletInfo()
CupCake : - CupCakePiece bottom
CupCake : - CupCakePiece topping
CupCake : - double price
CupCake : - int amount
CupCake : + CupCake(CupCakePiece bottom, CupCakePiece topping, int amount)
CupCake : + CupCakePiece getBottom()
CupCake : + CupCakePiece getTopping()
CupCake : + double getPrice()
CupCake : + int getAmount()
CupCake : + int hashCode()
CupCake : + boolean equals()
CupCake : + void addAmount(int amount)
CupCake : + void setAmount(int amount)
CupCake : + String toString()
CupCakePiece : - int id
CupCakePiece : - String flavor
CupCakePiece : - double price
CupCakePiece : + CupCakePiece(int id, String flavor, double price)
CupCakePiece : + int getId()
CupCakePiece : + String getFlavor()
CupCakePiece : + double getPrice()
CupCakePiece : + String toString()
CupCakePiece : + int hashCode()
CupCakePiece : + boolean equals()
Order : - int id
Order : - ArrayList<Orderline> orderlines
Order : - double totalPrice
Order : - String dateTime
Order : + Order(int id, ArrayList<Orderline> orderlines, double totalPrice, String dateTime)
Order : - void setPrice()
Order : + int getId()
Order : + ArrayList<Orderlines> getOrderlines()
Order : + double getTotalPrice()
Order : + String getDateTime()
Orderline : - int userId
Orderline : - int orderId
Orderline : - int orderLineId
Orderline : - CupCake cupCake
Orderline : + OrderLine(int userId, int orderId, int orderlineId, CupCakePiece topping, CupCakePiece bottom, double price, int amount)
Orderline : + int getUserId()
Orderline : + int getOrderId()
Orderline : + int getOrderlineId()
Orderline : + CupCake getCupCake()
Orderline : + String toString()
Orderline : + int hashCode()
Orderline : + boolean equals
User : - int id
User : - String username
User : - String password
User : - double balance
User : - String role
User : + User(int id, String username, String password, double balance, String role)
User : + String toString()
User : + int getId()
User : + String getUsername()
User : + String getPassword()
User : + double getBalance()
User : + String getRole()'
DAO : - DBConnector conn
DAO : + User getUser(String u)
DAO : + User getUser(int id)
DAO : + ArrayList<User> getUsers()
DAO : + boolean createCustomer(String username, String password1, String password2)
DAO : + boolean createAdmin(String username, String password1, String password2)
DAO : + ArrayList<CupCakePiece> getToppings()
DAO : + ArrayList<CupCakePiece> getBottoms()
DAO : + CupCakePiece getTopping(int id)
DAO : + CupCakePiece getBottom(int id)
DAO : + User login(String username, String password)
DAO : + Order getOrder(int id)
DAO : + ArrayList<Order> getUsersOrders(int id)
DAO : + ArrayList<Order> getAllOrders(int id)
DAO : + int insertOrder(ArrayList<CupCake> cart, User user)
DAO : + boolean addTopping(String flavor, double price)
DAO : + boolean addBottom(String flavor, double price)
DAO : + boolean changeOrderlineAmount(int id, int amount)
DAO : + String getUserById(int id)
DAO : + double deposit(int id, double value)
DAO : + boolean withdrawal(int id, double value)
DAO : + void updateOrderLine(int orderlineId, int amount)
DBConnector : - Connection conn
DBConnector : - String IP
DBConnector : - int PORT
DBConnector : + String DATABASE
DBConnector : - String USERNAME
DBConnector : - String PASSWORD
DBConnector : + DBConnector()
DBConnector : + Connection getConnection()

adminOrderPage --> DAO
adminOrderPage --> Order
adminOrderPage --> User
createPiece --> DAO
createPiece --> User
shopPage --> DAO
shopPage --> CupCake
shopPage --> CupCakePiece
shopPage --> User
updateInvoice --> DAO
updateInvoice --> Order
usersPage --> DAO
usersPage --> User
welcomePage --> DAO
welcomePage --> DAO
welcomePage --> User
CupCake --> CupCakePiece
Order --> Orderline
Orderline --> CupCake
DAO --> CupCake
DAO --> CupCakePiece
DAO --> Order
DAO --> Orderline
DAO --> User
DAO --> DBConnector

@enduml
